{% extends "base.html" %}
{% load i18n %}
{%load cache%}
{% cache 3600 main_page %}
{% block title %}{% trans "Main page" %}{% endblock title %} 

{% block content %}
<section class="hero d-flex align-items-center p-5">
    <div class="container text-white">
        <div class="row align-items-center">
            <div class="col-lg-6 hero-text">
                <h1>{% trans "Modern electric bikes and scooters for the sustainable urban explorer" %}</h1>
                <p>{% trans "GoRide offers a convenient, eco-friendly fleet of electric bikes and scooters available 24 hours to easily zip around the city." %}</p>
                <a href="{% url 'find_transport:find_transport' %}" class="btn btn-light">{% trans "Rent Now" %}</a>
            </div>
            <div class="col-lg-6 d-flex justify-content-end align-items-center mt-4">
                <img src="https://cdn.cmsfly.com/67c6c79f47be450012e04116/images/photo16852728301866aec2df5b1a5-NJacv.jpeg" alt="{% trans 'City Transport' %}" class="img-fluid rounded hero_img">
            </div>
        </div>
    </div>
</section>

<section class="features container py-5">
    <div class="row align-items-center h-100">
        <div class="col-lg-6 h-100">
            <div class="feature-text p-5 rounded mb-4 mb-lg-0">
                <h5 class="text-uppercase">{% trans "Sustainable commuting" %}</h5>
                <h2 class="fw-bold">{% trans "Transforming urban transport" %}</h2>
                <p>
                    {% trans "GoRide provides eco-friendly electric scooter and bike rentals for convenient, smooth urban commuting. Founded in 2021 by green mobility advocates, our mission is to transform urban transportation through innovative zero-emission mobility solutions." %}
                </p>
                <a href="#" class="btn btn-light mt-3">{% trans "Our Services" %}</a>
            </div>
        </div>
        <div class="col-lg-6 d-flex flex-column gap-4">
            <div class="row">
                <div class="col-12">
                    <img src="https://cdn.cmsfly.com/67c6c79f47be450012e04116/images/photo153001470898955a898ad9552-jqd2o.jpeg" 
                         alt="{% trans 'Urban Scene' %}" class="img-fluid rounded w-100 shadow">
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <img src="https://cdn.cmsfly.com/67c6c79f47be450012e04116/images/photo15718471404711d7766e825ea-A2Tes.jpeg" 
                         alt="{% trans 'Retro Poster' %}" class="img-fluid rounded w-100 shadow">
                </div>
                <div class="col-6">
                    <img src="https://cdn.cmsfly.com/67c6c79f47be450012e04116/images/photo15874857158175e8c6fa2a903-XLtmj.jpeg" 
                         alt="{% trans 'Bike Parking' %}" class="img-fluid rounded w-100 shadow">
                </div>
            </div>
        </div>
    </div>
</section>

<section class="benefits text-center py-5 pt-0 pt-lg-5">
    <div class="container">
        <h2>{% trans "Exceptional Bike and Scooter Rentals" %}</h2>
        <p>{% trans "GoRide offers on-demand access to our shared fleet of electric bikes and scooters." %}</p>
        <div class="row mt-4">
            <div class="col-md-4 mb-4 mb-md-0"> 
                <div class="card p-4">
                    <h3>{% trans "Easy Rentals" %}</h3>
                    <p class="m-0">{% trans "Locate and unlock vehicles with the GoRide app." %}</p>
                </div>
            </div>
            <div class="col-md-4 mb-4 mb-md-0">
                <div class="card p-4">
                    <h3>{% trans "Affordable Pricing" %}</h3>
                    <p class="m-0">{% trans "Pay by the minute or choose a membership." %}</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card p-4">
                    <h3>{% trans "Flexible Parking" %}</h3>
                    <p class="m-0">{% trans "Conveniently park anywhere in designated areas." %}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="reviews-slider py-5">
    <div class="container">
        <h2 class="text-center mb-4">{% trans "Recent Reviews" %}</h2>
        {% if recent_reviews %}
            <div class="row">
                <div class="col-12">
                    <div id="reviewsCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner text-center">
                            {% for review in recent_reviews %}
                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                    <div class="card p-4 shadow-sm">
                                        <div class="d-flex flex-column align-items-center mb-3">
                                            <img src="{% if review.user.profile_pic.url %}{{ review.user.profile_pic.url }}{% else %}/static/images/default-avatar.png{% endif %}" 
                                                 alt="{{ review.user.username }}" 
                                                 class="rounded-circle mb-3" 
                                                 style="width: 70px; height: 70px;">
                                            <h5 class="mb-0">{{ review.user.username }}</h5>
                                        </div>
                                        <div class="rating mb-3">
                                            {% for _ in "12345" %}
                                                <span class="star" style="color: {% if forloop.counter <= review.rating %}#ffd700{% else %}#ccc{% endif %};">â˜…</span>
                                            {% endfor %}
                                        </div>
                                        <p class="mb-3">{{ review.text }}</p>
                                        <small class="text-muted">{{ review.created_at|date:"F d, Y" }}</small>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="prev" style="top: 50%; transform: translateY(-50%);">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">{% trans "Previous" %}</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="next" style="top: 50%; transform: translateY(-50%);">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">{% trans "Next" %}</span>
                        </button>
                    </div>
                </div>
            </div>
        {% else %}
            <p class="text-center">{% trans "No reviews yet. Be the first to leave one!" %}</p>
        {% endif %}
        <div class="text-center mt-4">
            <a href="{% url 'reviews:review_list' %}" class="btn btn-light">{% trans "See All Reviews" %}</a>
        </div>
    </div>
</section>

<section class="cta text-center text-white py-5 mb-5 rounded">
    <div class="container">
        <h2>{% trans "Download the GoRide app and start riding" %}</h2>
        <p>{% trans "With just a few taps, you can locate, unlock, and ride." %}</p>
        <a href="#" class="btn btn-light">{% trans "Get Started" %}</a>
    </div>
</section>

<script>
    {% for message in messages %}
        alert("{{ message }}");
    {% endfor %}

    const swiper = new Swiper('.swiper-container', {
        slidesPerView: 3,
        spaceBetween: 20,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        breakpoints: {
            0: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
            1024: {
                slidesPerView: 3,
            },
        },
    });
</script>
{% endblock content %}
{% endcache %}